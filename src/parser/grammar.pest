// Helpful stuff:
//  - https://pest.rs/book/grammars/built-ins.html
//  - try online https://pest.rs/#editor
//  - Modifiers (_@$!) https://docs.rs/pest_derive/2.1.0/pest_derive/#modifiers
// Example: https://github.com/Keats/tera/tree/master/src/parser

// Set whitespace
WHITESPACE = _{ " " | "\t" | "\r" | "\n" }

number = @{ "-"? ~ ASCII_DIGIT+ }
identifier = @{ ASCII_ALPHA ~ ASCII_ALPHANUMERIC* }

nil = { "nil" }

// :1338
var = { ":" ~ number }

// galaxy = :1338
named_function = { identifier ~ "=" ~ var }

// Operators
ap = { "ap"  }
cons = { "cons" | "vec" }
neg = { "neg" }
eq = { "eq" }
inc = { "inc" }
modulate = { "mod" }
demodulate = { "dem" }
list = { "(" ~ symbol ~ ("," ~ symbol)* ~ ")" }
empty_list = { "(" ~ ")" }

symbol = _{ ap | cons | var | number | nil | eq | inc | modulate | demodulate | list | empty_list }

id = { var | identifier }
assignment = { id ~ "=" ~ symbol+ }

line = { SOI ~ assignment ~ EOI }
